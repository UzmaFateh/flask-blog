
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    {% extends "base.html" %}
{% block content %}
<!-- Page content here -->



<!-- ðŸŒŸ Page Header -->
<section class="max-w-6xl mx-auto px-4 mt-12">
  <h2 class="text-3xl font-bold text-gray-800 mb-6 border-b-2 border-gray-300 pb-2">
    All Posts
  </h2>

  <!-- ðŸ§© Cards Grid -->
  <div class="grid gap-8 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4">
    {% for post in posts %}
    <div class="bg-white rounded-xl overflow-hidden shadow-md hover:shadow-2xl transform hover:-translate-y-1 transition-all duration-300 flex flex-col">
      {% if post.image_filename %}
      <a href="{{ url_for('post_detail', slug=post.slug) }}">
        <img src="{{ url_for('static', filename='uploads/' ~ post.image_filename) }}"
          class="w-full h-48 object-cover hover:opacity-90 transition duration-300" alt="{{ post.title }}">
      </a>
      {% else %}
      <div class="w-full h-48 bg-gray-200 flex items-center justify-center text-gray-500">
        No Image
      </div>
      {% endif %}

      <div class="p-5 flex flex-col flex-1">
        <h3 class="text-lg font-semibold mb-2">
          <a href="{{ url_for('post_detail', slug=post.slug) }}" class="hover:text-indigo-600">
            {{ post.title }}
          </a>
        </h3>

        <a href="{{ url_for('posts_by_category', category_name=post.category) }}"
          class="inline-block bg-indigo-100 text-indigo-800 text-xs px-2 py-1 rounded-full mb-3">
          {{ post.category }}
        </a>

        <p class="text-gray-600 text-sm flex-1">
          {{ post.content.split()[:15] | join(' ') }}...
        </p>

        <a href="{{ url_for('post_detail', slug=post.slug) }}"
          class="mt-4 bg-indigo-600 hover:bg-indigo-700 text-white text-xs px-4 py-2 rounded-lg text-center">
          Read More
        </a>
      </div>

      <div class="px-5 py-3 text-gray-500 text-xs border-t">
        {{ post.created_at.strftime('%Y-%m-%d') }}
      </div>
    </div>
    {% endfor %}
  </div>

  <!-- ðŸ“„ Pagination -->
  <div class="flex justify-center items-center mt-10 space-x-2">
    {% if page > 1 %}
    <a href="{{ url_for('all_posts', page=page-1) }}"
      class="px-3 py-1 border rounded-lg text-gray-700 hover:bg-gray-200">&laquo; Prev</a>
    {% endif %}

    {% for p in range(1, total_pages + 1) %}
    <a href="{{ url_for('all_posts', page=p) }}"
      class="px-3 py-1 border rounded-lg {% if p == page %}bg-indigo-600 text-white{% else %}text-gray-700 hover:bg-gray-200{% endif %}">
      {{ p }}
    </a>
    {% endfor %}

    {% if page < total_pages %}
    <a href="{{ url_for('all_posts', page=page+1) }}"
      class="px-3 py-1 border rounded-lg text-gray-700 hover:bg-gray-200">Next &raquo;</a>
    {% endif %}
  </div>
</section>

{% endblock %}

</body>
</html>